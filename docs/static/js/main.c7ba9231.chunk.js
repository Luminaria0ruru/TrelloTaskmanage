(this.webpackJsonptrellokanban=this.webpackJsonptrellokanban||[]).push([[0],{19:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(12),i=c.n(r),d=(c(19),c(5)),s=c.n(d),o=c(4),l=c(8),u=c(3),j=c(35),b=c(36),f=c(37),v=c(0);function x(e){var t=e.item;return Object(v.jsx)("label",{style:{backgroundColor:t.color,color:"#fff"},children:t.text})}c(22);var O=function(e){var t=Object(n.useRef)(),c=function(c){var n;t&&!(null===(n=t.current)||void 0===n?void 0:n.contains(c.target))&&e.onClose&&e.onClose()};return Object(n.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}})),Object(v.jsx)("div",{ref:t,className:"dropdown custom-scroll ".concat(e.class?e.class:""),children:e.children})},p=(c(23),c(6)),m=c(32),h=c(33),k=c(34);c(24);var C=function(e){return Object(v.jsx)("div",{className:"modal",onClick:function(){return e.onClose?e.onClose():""},children:Object(v.jsx)("div",{className:"modal-content custom-scroll",onClick:function(e){return e.stopPropagation()},children:e.children})})};c(25);var N=function(e){var t=e.text,c=e.displayClass;return Object(v.jsx)("div",{className:"custom-input",children:Object(v.jsx)("p",{className:"custom-input-display ".concat(c||""),children:t})})};c(26);var I=function(e){var t,c=e.onClose,a=e.card,r=e.boardId,i=e.updateCard,d=Object(n.useState)(Object(p.a)({},a)),s=Object(u.a)(d,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){console.log(r),i&&i(r,o.id,o)}),[o]),Object(v.jsx)(C,{onClose:c,children:Object(v.jsxs)("div",{className:"cardinfo",children:[Object(v.jsxs)("div",{className:"cardinfo-box",children:[Object(v.jsxs)("div",{className:"cardinfo-box-title",children:[Object(v.jsx)(m.a,{}),Object(v.jsx)("p",{children:"Title"})]}),Object(v.jsx)(N,{defaultValue:o.title,text:o.title,placeholder:"Enter Title",onSubmit:function(e){l(Object(p.a)(Object(p.a)({},o),{},{title:e}))}})]}),Object(v.jsxs)("div",{className:"cardinfo-box",children:[Object(v.jsxs)("div",{className:"cardinfo-box-title",children:[Object(v.jsx)(h.a,{}),Object(v.jsx)("p",{children:"Description"})]}),Object(v.jsx)(N,{defaultValue:o.desc,text:o.desc||"",placeholder:"Enter description",onSubmit:function(e){l(Object(p.a)(Object(p.a)({},o),{},{desc:e}))}})]}),Object(v.jsxs)("div",{className:"cardinfo-box",children:[Object(v.jsxs)("div",{className:"cardinfo-box-title",children:[Object(v.jsx)(k.a,{}),Object(v.jsx)("p",{children:"Labels"})]}),Object(v.jsx)("div",{className:"cardinfo-box-labels",children:null===(t=o.labels)||void 0===t?void 0:t.map((function(e,t){return Object(v.jsx)(x,{item:e},t)}))})]})]})})};var g=function(e){var t=e.card,c=e.boardId,a=e.onDragEnd,r=e.onClick,i=e.removeCard,d=e.onDragEnter,s=e.updateCard,o=t.id,l=t.title,p=t.desc,m=t.labels,h=Object(n.useState)(!1),k=Object(u.a)(h,2),C=k[0],N=k[1],g=Object(n.useState)(!1),E=Object(u.a)(g,2),S=E[0],w=E[1];return Object(v.jsxs)(v.Fragment,{children:[S&&Object(v.jsx)(I,{onClose:function(){return w(!1)},card:t,boardId:c,updateCard:s}),Object(v.jsxs)("div",{className:"card",draggable:!0,onDragEnd:function(){return a(c,o)},onDragEnter:function(){return d(c,o)},onClick:function(){1651319512266!=c&&r(c,o)},children:[Object(v.jsxs)("div",{className:"card-top",children:[Object(v.jsx)("div",{className:"card-top-labels",children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(v.jsx)(x,{item:e},t)}))}),Object(v.jsxs)("div",{className:"card-top-more",onClick:function(e){e.stopPropagation(),w(!0)},children:[Object(v.jsx)(j.a,{}),C&&Object(v.jsx)(O,{class:"board-dropdown",onClose:function(){return N(!1)}})]})]}),Object(v.jsx)("div",{className:"card-title",children:l}),Object(v.jsx)("div",{children:Object(v.jsx)("p",{title:p,children:Object(v.jsx)(b.a,{})})}),1651319512266==c&&Object(v.jsx)("div",{className:"card-footer",children:Object(v.jsx)("p",{className:"card-footer-item",children:Object(v.jsx)(f.a,{className:"card-footer-icon",onClick:function(){return i(c,o)}})})})]},t.id)]})};c(29);var E=function(e){var t,c,a=e.board,r=e.removeCard,i=e.onDragEnd,d=e.onClick,s=e.onDragEnter,o=e.updateCard,l=Object(n.useState)(!1),b=Object(u.a)(l,2),f=b[0],x=b[1];return Object(v.jsx)("div",{className:"board",children:Object(v.jsxs)("div",{className:"board-inner",children:[Object(v.jsxs)("div",{className:"board-header",children:[Object(v.jsxs)("p",{className:"board-header-title",children:[null===a||void 0===a?void 0:a.title,Object(v.jsx)("span",{children:(null===a||void 0===a||null===(t=a.cards)||void 0===t?void 0:t.length)||0})]}),Object(v.jsxs)("div",{className:"board-header-title-more",onClick:function(){return x(!0)},children:[Object(v.jsx)(j.a,{}),f&&Object(v.jsx)(O,{class:"board-dropdown",onClose:function(){return x(!1)}})]})]}),Object(v.jsx)("div",{className:"board-cards custom-scroll",children:null===a||void 0===a||null===(c=a.cards)||void 0===c?void 0:c.map((function(e){return Object(v.jsx)(g,{card:e,boardId:a.id,removeCard:r,onDragEnter:s,onDragEnd:i,onClick:d,updateCard:o},e.id)}))})]},null===a||void 0===a?void 0:a.id)})},S=(c(30),c(13)),w=c(14),y=[{id:1651319512266,title:"\u4eca\u65e5\u306e\u30d7\u30ed\u30b0\u30e9\u30e0",cards:[]},{id:1651319512267.7095,title:"\u4e0a\u534a\u8eab\u904b\u52d5",cards:[{id:1651319552926.0933,title:"\u8155\u3092\u4e0a\u3052\u308b",labels:[{color:"#cf61a1",text:"\u4e0a\u534a\u8eab\u904b\u52d5"}],desc:"\u8155\u3092\u4e0a\u3052\u308b\u52d5\u4f5c\u3092\u884c\u3046",date:"2023-09-03",tasks:[{id:1651319625559.8025,completed:!0,text:"Task1_subtask1"},{id:1651319629650.8945,completed:!0,text:"Task1_subtask2"},{id:1651319633774.9905,completed:!0,text:"Task1_subtask3"}]},{id:1651319568365.593,title:"\u9996\u3092\u56de\u3059",labels:[{color:"#cf61a1",text:"\u4e0a\u534a\u8eab\u904b\u52d5"}],desc:"\u9996\u3092\u56de\u3059\u3092\u884c\u3046",date:"",tasks:[]},{id:1651319672685.5078,title:"\u8179\u7b4b",labels:[{color:"#cf61a1",text:"\u4e0a\u534a\u8eab\u904b\u52d5"}],desc:"\u8179\u7b4b\u3092\u884c\u3046",date:"",tasks:[{id:1651319728301.3855,completed:!1,text:"restore db"}]},{id:1651319680948.0479,title:"\u80cc\u7b4b",labels:[{color:"#cf61a1",text:"\u4e0a\u534a\u8eab\u904b\u52d5"}],desc:"\u80cc\u7b4b\u3092\u884c\u3046",date:"2022-05-04",tasks:[{id:1651319820180.9648,completed:!1,text:"GraphQl"},{id:1651319833779.3252,completed:!0,text:"Restful API"}]}]},{id:1651319512268,title:"\u4e0b\u534a\u8eab\u904b\u52d5",cards:[{id:1651319677070.0732,title:"\u7acb\u3061\u4e0a\u304c\u308b",labels:[{color:"#0067C0",text:"\u4e0b\u534a\u8eab\u904b\u52d5"}],desc:"\u7acb\u3061\u4e0a\u304c\u308b\u52d5\u4f5c\u3092\u884c\u3046",date:"2022-05-06",tasks:[]},{id:1651319677070.0735,title:"\u30b9\u30af\u30ef\u30c3\u30c8",labels:[{color:"#0067C0",text:"\u4e0b\u534a\u8eab\u904b\u52d5"}],desc:"\u8db3\u3092\u4e0a\u3052\u4e0b\u3052\u3059\u308b\u884c\u52d5\u3092\u884c\u3046",date:"2022-05-06",tasks:[]},{id:1651319677070.01,title:"\u8db3\u9996\u56de\u3059",labels:[{color:"#0067C0",text:"\u4e0b\u534a\u8eab\u904b\u52d5"}],desc:"\u8db3\u9996\u3092\u56de\u3059\u52d5\u4f5c\u3092\u884c\u3046",date:"2022-05-06",tasks:[]},{id:1651319677070.011,title:"\u6b69\u304f",labels:[{color:"#0067C0",text:"\u4e0b\u534a\u8eab\u904b\u52d5"}],desc:"\u6b69\u304f\u52d5\u4f5c\u3092\u884c\u3046",date:"2022-05-06",tasks:[]}]}],D="kanban-boards",T=function(){function e(){Object(S.a)(this,e)}return Object(w.a)(e,[{key:"fetchBoardList",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,c,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y,c=[],localStorage.getItem(D)?(a=JSON.parse(null!==(n=localStorage.getItem(D))&&void 0!==n?n:""),c=Object(o.a)(a)):J(c=Object(o.a)(t)),e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function B(){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T,e.abrupt("return",t.fetchBoardList());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){localStorage.setItem(D,JSON.stringify(e))}var P=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1];function r(){return(r=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]);var i=Object(n.useState)({boardId:0,cardId:0}),d=Object(u.a)(i,2),j=d[0],b=d[1],f=function(e,t){var n=c.findIndex((function(t){return t.id===e}));if(!(n<0)){var r=Object(o.a)(c),i=r[n].cards,d=i.findIndex((function(e){return e.id===t}));d<0||(i.splice(d,1),a(r))}},x=function(e,t,n){var r=c.findIndex((function(t){return t.id===e}));if(!(r<0)){var i=Object(o.a)(c),d=i[r].cards.findIndex((function(e){return e.id===t}));d<0||(i[r].cards[d]=n,a(i))}},O=function(e,t){var n,r,i=c.findIndex((function(t){return t.id===e}));if(!(i<0)){var d=null===(n=c[i])||void 0===n||null===(r=n.cards)||void 0===r?void 0:r.findIndex((function(e){return e.id===t}));if(!(d<0)){var s=c.findIndex((function(e){return 1651319512266===e.id}));if(!(s<0)&&0==s){var l=Object(o.a)(c),u=l[i].cards[d];l[s].cards.splice(l[s].cards.length,0,u),a(l),b({boardId:0,cardId:0})}}}},p=function(e,t){var n,r,i=c.findIndex((function(t){return t.id===e}));if(!(i<0)&&1651319512266==e){var d=null===(n=c[i])||void 0===n||null===(r=n.cards)||void 0===r?void 0:r.findIndex((function(e){return e.id===t}));if(!(d<0)){var s=c.findIndex((function(e){return 1651319512266===e.id}));if(!(s<0)&&0==s){var l=Object(o.a)(c),u=l[i].cards[d];l[i].cards.splice(d,1),l[s].cards.splice(l[s].cards.length,0,u),a(l),b({boardId:0,cardId:0})}}}},m=function(e,t){j.cardId!==t&&b({boardId:e,cardId:t})};return Object(n.useEffect)((function(){J(c)}),[c]),Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("div",{className:"app-nav",children:Object(v.jsx)("h1",{children:"Trello Kanban Board"})}),Object(v.jsx)("div",{className:"app-boards-container",children:Object(v.jsx)("div",{className:"app-boards",children:c.map((function(e){return Object(v.jsx)(E,{board:e,removeBoard:function(){return function(e){var t=c.findIndex((function(t){return t.id===e}));if(!(t<0)){var n=Object(o.a)(c);n.splice(t,1),a(n)}}(e.id)},removeCard:f,onDragEnd:p,onClick:O,onDragEnter:m,updateCard:x},e.id)}))})})]})};var _=function(){return Object(v.jsx)(P,{})};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.c7ba9231.chunk.js.map